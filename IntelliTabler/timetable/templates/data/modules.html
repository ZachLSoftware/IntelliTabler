{% extends "base_template.html" %}



{% block js %}
{% load static %}

<script type="text/javascript" src="{% static 'javascript/modalHandler.js' %}" defer></script>
{% endblock %}
{% block content %}
<div class="d-flex m-2 justify-content-center">
<h4>Departments</h4>
</div>
<div class="d-flex justify-content-center border-bottom border-3">
  <div class="btn-group mb-1" role="group">
  {% for dep in departments %}
    <button class="btn btn-primary depButton" hx-get="{%url 'viewModules' 'Year' dep.id %}"  hx-target="#sidebar">{{dep.name}}</button>
  {% empty %}
    No departments
  {% endfor %}
</div>
</div>
      <!--Sidebar Navigation-->
<div class="row me-auto">
  <div class="col-2 me-auto border-end border-3">
      <div hx-trigger="load, yearChange from:body" hx-get="{%url 'viewModules' 'Year' departmentId %}"  hx-target="this" id="sidebar" class="btn-group-vertical d-flex mt-4"></div>
    </div>

    <div class="col-2 me-auto" id="childColumn">
      <div id="listObjects" hx-trigger="moduleChange from:body" hx-get="{%url 'viewModules' 'ModuleGroup' departmentId %}" hx-vals='js:{"yearId":getClicked()}' hx-disinherit="*" hx-target="this" id="sidebar" class="btn-group-vertical d-flex mt-4"></div>
      <div id="test"></div>
    </div>
  <div id="displayChild" hx-trigger="moduleDetailsChange from:body" hx-get="{%url 'getModules' %}" hx-vals='js:{"groupId":getChild()}' class="col"></div>
</div>


<div id="addFormModal" class="modal fade">
    <div id="addForm" class="modal-dialog" hx-target="this"></div>
  </div>
  
{% endblock %}